/* Make the app fill the viewport so child flex layouts can stretch */
html,
body,
#root {
  height: 100%;
}

/* ensure any wrapper inserted by the app (styled or provider wrappers) fills the root height
   so the real appRoot can stretch to the full viewport */
#root > * {
  height: 100%;
}

body {
  margin: 0; /* remove browser default margin so panes can reach the edge */
}

/* appRoot and bodyRoot have been migrated to component-level style() macros.
   Keep this file around for remaining layout fragments and for selectors
   that target nested internals (e.g., SearchField input and Tabs internals). */

/* bodyRoot wraps the header and mainContent; migrated to style() in Live/Inspector */

.mainContent {
  display: flex;
  flex: 1;
  min-height: 0;
}

/* Migrated layout blocks: these are now expressed as component-level style() macros.
   Leaving other selectors (e.g., .leftPaneSearch input and the tabs internals)
   in place while we incrementally migrate more of the styles. */

/* NOTE: .leftPaneSearch input rules and tabs internals remain below and should not be removed
   until those pieces are migrated to style() as well. */

/* leftPaneSearch rules migrated into `LeftPane.tsx` via style() macros. */
/* The SearchField input styling is now handled in component code to keep layout scoped and token-friendly. */

.toolbarIcon {
  display: inline-flex;
  line-height: 0;
}

.controlsGroup {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--spectrum-global-color-gray-200);
  background: linear-gradient(
    180deg,
    #ffffff,
    var(--spectrum-global-color-gray-50)
  );
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
}

.controlsGroup .toolbarIcon {
  display: inline-flex;
  line-height: 0;
}

/* migrated: detailed controlsGroup child sizing and icon sizes remain in CSS */

/* the react-spectrum Tabs internals and tab panel sizing remain in this file */

/* make the slider take more room */
.controlsRight .sliderWrap {
  padding: 6px 12px;
  flex: 1 1 auto !important;
  min-width: 160px;
  display: flex;
  align-items: center;
}

/* ensure the slider component fills the available space */
.controlsRight .sliderWrap > * {
  width: 100%;
}

/* visual grouping for controls (more prominent) */
.controlsGroup {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--spectrum-global-color-gray-200);
  background: linear-gradient(
    180deg,
    #ffffff,
    var(--spectrum-global-color-gray-50)
  );
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
}

.controlsGroup .toolbarIcon {
  display: inline-flex;
  line-height: 0;
}

/* emphasized primary button wrapper */
.controlsGroup .primaryAction {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  height: 36px;
  padding: 6px 10px;
  background: var(--spectrum-global-color-blue-600);
  color: #fff;
  border-radius: 6px;
  box-shadow: none;
}

.controlsGroup .primaryAction .toolbarIcon svg {
  width: 18px;
  height: 18px;
}

.controlsGroup .stepAction {
  display: inline-flex;
  align-items: center;
  height: 36px;
  padding: 6px 6px;
  border-radius: 6px;
}

.controlsGroup .stepAction.back {
  margin-right: 6px;
}
.controlsGroup .stepAction.forward {
  margin-left: 6px;
}

.controlsGroup .stepAction .toolbarIcon svg {
  width: 16px;
  height: 16px;
}

.controlsGroup .refreshAction {
  display: inline-flex;
  align-items: center;
  height: 36px;
  padding: 6px 8px;
  border-radius: 6px;
  margin-left: 8px;
}

.controlsGroup .refreshAction .toolbarIcon svg {
  width: 16px;
  height: 16px;
}

.controlsGroup:hover {
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.06);
}

/* slider contrast and spacing */
.controlsRight .sliderWrap label {
  font-weight: 500;
  color: var(--spectrum-global-color-gray-700);
  margin-right: 12px;
}

.controlsRight .sliderWrap output {
  color: var(--spectrum-global-color-gray-600);
  margin-left: 8px;
}

.controlsRight .sliderWrap input[type="range"] {
  accent-color: var(--spectrum-global-color-blue-600);
}

.controlsRight .sliderWrap input[type="range"]::-webkit-slider-runnable-track {
  height: 6px;
  border-radius: 8px;
}

.controlsRight .sliderWrap input[type="range"]::-webkit-slider-thumb {
  height: 18px;
  width: 18px;
  margin-top: -6px;
  border-radius: 50%;
}

/* mainSplit and duplicate tabsWrap removed as unused */

.tabPanelContent {
  display: flex;
  flex: 1;
  overflow: hidden;
}

.graphWrap {
  flex: 1;
  overflow: auto;
  display: flex;
  min-height: 0;
}

/* ensure the Tabs internals can stretch to fill the right pane */
.tabsInner {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  /* Fallback: explicitly size the tabs area to the viewport (minus header) so internals can distribute
     vertical space reliably across inserted wrappers. */
  height: calc(100vh - 64px) !important;
}

/* the react-spectrum wrapper inside Tabs often inserts an additional div; make it a column flex
   so the tablist and tabpanel inside can share the available height correctly */
.tabsInner > div {
  display: flex;
  flex-direction: column;
  flex: 1 1 0% !important;
  min-height: 0;
  min-width: 0 !important;
}

/* Ensure any direct child wrapper inside the Tabs internals also stretches and does not
   collapse to content width (Spectrum may insert wrappers that default to flex: 0 1 auto). */
.tabsInner > div > div {
  flex: 1 1 0% !important;
  min-width: 0 !important;
}

/* Target tabpanel-inserted wrappers to avoid collapsed width; Spectrum sometimes nests another
   wrapper between the tabpanel and our content which may default to flex: 0 1 auto. */
.tabsInner [role="tabpanel"] > div {
  display: flex;
  flex: 1 1 0% !important;
  min-width: 0 !important;
}

/* keep the tab list from growing and taking up remaining height */
.tabsInner [role="tablist"] {
  flex: 0 0 auto;
}

/* target tab panels anywhere inside the tabsInner wrapper (react-spectrum nests internals)
   and make them grow to fill available vertical space */
.tabsInner [role="tabpanel"] {
  display: flex;
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;
}

.tabsInner [role="tabpanel"] .tabPanelContent {
  display: flex;
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
}

/* make the tree wrapper fill the available space */
#treeWrapper {
  width: 100%;
  /* Allow the tree wrapper to grow via flex so it fills the available tab panel height */
  flex: 1 1 0%;
  min-height: 0;
  /* Constrain tree wrapper to the viewport height (minus header area) so it reaches the bottom
     without overflowing the page. 64px is a conservative header/tablist offset. */
  height: auto;
  max-height: calc(100vh - 64px) !important;
  display: flex;
  position: relative;
  overflow: hidden;
}

#treeWrapper > div {
  flex: 1;
  min-height: 0;
  height: 100%;
  overflow: auto;
}

#treeWrapper > div {
  flex: 1;
  min-height: 0;
}

/* Make the root app wrapper a column flex container so its children (header + main panes)
   can distribute vertical space correctly and let the main content stretch to the viewport bottom. */
#root > * {
  display: flex;
  flex-direction: column;
  height: 100%;
  /* Ensure the top-level app wrapper consumes available viewport height and distributes
     it to header + main content correctly. */
  flex: 1 1 0% !important;
  min-height: 0 !important;
}

#root > * > div {
  flex: 1 1 0%;
  min-height: 0;
}

/* Ensure tab internals and ancestor wrappers stretch vertically to the bottom of viewport.
   Spectrum (and our style() wrappers) sometimes insert nested wrappers with default
   flex values that can collapse vertical space; force the chain that contains
   the tabs and tab panels to be full-height so the Graph fills the viewport. */
.tabsInner,
.tabsInner > div,
.tabsInner > div > div,
.tabsInner [role="tabpanel"],
.tabsInner [role="tabpanel"] > div,
.tabsInner [role="tabpanel"] .tabPanelContent {
  display: flex;
  flex-direction: column;
  flex: 1 1 0% !important;
  min-height: 0 !important;
  min-width: 0 !important;
  height: 100%;
}

/* Scoped fallback: ensure the nearest container that contains the tabs area expands to
   the viewport so nested internals (header + tabpanel) can distribute vertical space.
   Keep this scoped so we don't change the layout direction (avoid stacking left/right). */
#root div:has(.tabsInner) {
  /* avoid overriding layout direction; only hint at sizing so the tab internals can grow */
  flex: 1 1 0% !important;
  min-height: 0 !important;
  height: calc(100vh - 64px) !important;
}

.detailsWrap {
  /* attribute panel uses full width when in the Attributes tab */
  padding: 12px;
  overflow: auto;
}

.fullWidthPane {
  width: 360px;
  border-right: 1px solid var(--spectrum-global-color-gray-100);
  padding: 12px;
}
